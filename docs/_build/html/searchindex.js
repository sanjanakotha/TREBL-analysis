Search.setIndex({"alltitles":{"1. Define barcode and domain structure":[[0,"define-barcode-and-domain-structure"],[3,"define-barcode-and-domain-structure"]],"2. Create a DuckDB database":[[0,"create-a-duckdb-database"],[3,"create-a-duckdb-database"]],"3. Specify sequencing inputs and run the initial mapper":[[0,"specify-sequencing-inputs-and-run-the-initial-mapper"],[3,"specify-sequencing-inputs-and-run-the-initial-mapper"]],"4. Refine map":[[0,"refine-map"],[3,"refine-map"]],"5. Refine the map":[[0,"refine-the-map"],[3,"refine-the-map"]],"API Reference":[[1,"api-reference"]],"Barcode exists":[[0,"barcode-exists"],[3,"barcode-exists"]],"Designed":[[0,"designed"],[3,"designed"]],"Grouped":[[0,"grouped"],[3,"grouped"]],"Indices and tables":[[1,"indices-and-tables"]],"Module contents":[[2,"module-scripts"]],"Modules":[[1,null]],"Notes":[[0,"notes"],[3,"notes"]],"Overview":[[0,"overview"],[3,"overview"]],"Protocol":[[1,null]],"Quality":[[0,"quality"],[3,"quality"]],"Recommended order":[[0,"recommended-order"],[3,"recommended-order"]],"Refinement steps":[[0,"refinement-steps"],[3,"refinement-steps"]],"Step 1 Protocol":[[0,null],[3,null]],"Steps":[[0,"steps"],[3,"steps"]],"Submodules":[[2,"submodules"]],"TREBL-scripts Documentation":[[1,null]],"Thresholded":[[0,"thresholded"],[3,"thresholded"]],"Unique target":[[0,"unique-target"],[3,"unique-target"]],"Visualizing loss":[[0,"visualizing-loss"],[3,"visualizing-loss"]],"Workflow Overview":[[1,"workflow-overview"]],"scripts package":[[2,null]],"scripts.complexity module":[[2,"module-scripts.complexity"]],"scripts.error_correct module":[[2,"module-scripts.error_correct"]],"scripts.finder module":[[2,"module-scripts.finder"]],"scripts.initial_map module":[[2,"module-scripts.initial_map"]],"scripts.map_refiner module":[[2,"module-scripts.map_refiner"]],"scripts.plotting module":[[2,"module-scripts.plotting"]],"scripts.preprocess module":[[2,"module-scripts.preprocess"]],"scripts.umi_deduplicate module":[[2,"module-scripts.umi_deduplicate"]]},"docnames":[".ipynb_checkpoints/step1_protocol-checkpoint","index","scripts","step1_protocol"],"envversion":{"sphinx":66,"sphinx.domains.c":3,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":9,"sphinx.domains.index":1,"sphinx.domains.javascript":3,"sphinx.domains.math":2,"sphinx.domains.python":4,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.viewcode":1},"filenames":[".ipynb_checkpoints/step1_protocol-checkpoint.rst","index.rst","scripts.rst","step1_protocol.rst"],"indexentries":{},"objects":{"":[[2,0,0,"-","scripts"]],"scripts":[[2,0,0,"-","complexity"],[2,0,0,"-","error_correct"],[2,0,0,"-","finder"],[2,0,0,"-","initial_map"],[2,0,0,"-","map_refiner"],[2,0,0,"-","plotting"],[2,0,0,"-","preprocess"],[2,0,0,"-","umi_deduplicate"]],"scripts.complexity":[[2,1,1,"","ComplexityChecker"]],"scripts.complexity.ComplexityChecker":[[2,2,1,"","count_overlap"],[2,2,1,"","count_overlap_one_barcode_group"],[2,2,1,"","show_tables"]],"scripts.error_correct":[[2,3,1,"","concatenate_fastqs"],[2,3,1,"","convert_txt_to_whitelist_mapping_df_from_path"],[2,3,1,"","plot_all_whitelists"],[2,3,1,"","rc_and_swap"],[2,3,1,"","run_whitelist_on_concat_domains"],[2,3,1,"","summarize_whitelist"]],"scripts.finder":[[2,1,1,"","Barcode"],[2,3,1,"","add_barcode"],[2,3,1,"","add_multiple_barcodes"],[2,3,1,"","add_umi"]],"scripts.initial_map":[[2,1,1,"","InitialMapper"]],"scripts.initial_map.InitialMapper":[[2,2,1,"","create_map"],[2,2,1,"","create_test_map"],[2,2,1,"","extract_barcodes"],[2,2,1,"","extract_umi"],[2,2,1,"","merge_design"],[2,2,1,"","preview_map"],[2,2,1,"","read_fastq"],[2,2,1,"","reverse_complement_fastq"]],"scripts.map_refiner":[[2,1,1,"","MapRefiner"]],"scripts.map_refiner.MapRefiner":[[2,4,1,"","DEFAULT_MAP_ORDER"],[2,2,1,"","apply_whitelist"],[2,2,1,"","barcode_exists"],[2,2,1,"","check_exists"],[2,2,1,"","close_connection"],[2,2,1,"","create_designed"],[2,2,1,"","create_error_corrected"],[2,2,1,"","create_grouped"],[2,2,1,"","create_initial"],[2,2,1,"","create_quality"],[2,2,1,"","create_thresholded"],[2,2,1,"","create_unique_target"],[2,2,1,"","generate_fastq_for_whitelist"],[2,2,1,"","get_map_df"],[2,2,1,"","merge_design"],[2,2,1,"","plot_all_whitelists_from_summary"],[2,2,1,"","plot_error_correction"],[2,2,1,"","plot_loss"],[2,2,1,"","plot_reads_histogram"],[2,2,1,"","refine_map_from_db"],[2,2,1,"","save_loss_table"],[2,2,1,"","save_map"],[2,2,1,"","show_tables"]],"scripts.plotting":[[2,3,1,"","plot_all_whitelists_from_summary"],[2,3,1,"","plot_error_correction"],[2,3,1,"","plot_loss_helper"],[2,3,1,"","plot_reads_histogram"]],"scripts.preprocess":[[2,3,1,"","load_and_shorten_files"],[2,3,1,"","reverse_complement"],[2,3,1,"","reverse_complement_series"],[2,3,1,"","save_parquet"],[2,3,1,"","shorten_seq_file"],[2,3,1,"","time_it"]],"scripts.umi_deduplicate":[[2,1,1,"","UMIDeduplicator"],[2,3,1,"","fastp_summary_df"],[2,3,1,"","run_fastp"]],"scripts.umi_deduplicate.UMIDeduplicator":[[2,2,1,"","align_sort_and_deduplicate_umis"],[2,2,1,"","counts_per_umi"],[2,2,1,"","generate_barcode_fasta_and_index"],[2,2,1,"","generate_fastq"],[2,2,1,"","merge_complex_with_step1_map"],[2,2,1,"","merge_simple_with_step1_map"],[2,2,1,"","run_both_deduplications"],[2,2,1,"","run_simple_deduplication"],[2,2,1,"","run_umi_tools_deduplication"],[2,2,1,"","save_simple_deduplication"],[2,2,1,"","show_tables"],[2,2,1,"","unique_umis_per_barcodes"]]},"objnames":{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","function","Python function"],"4":["py","attribute","Python attribute"]},"objtypes":{"0":"py:module","1":"py:class","2":"py:method","3":"py:function","4":"py:attribute"},"terms":{"2nd":2,"4th":2,"A":2,"After":[0,3],"But":[0,3],"Do":[0,3],"Each":[0,3],"For":[0,2,3],"Have":[0,3],"Here":[],"I":[],"If":[0,2,3],"In":[0,3],"Or":[0,3],"Other":[],"Same":[0,3],"Some":[],"The":[0,2,3],"Then":2,"These":[],"This":[0,2,3],"To":[0,3],"We":[0,3],"What":[],"Where":[0,3],"Which":[0,3],"You":[0,3],"_barcod":2,"_barcodes_extract":2,"_qual":2,"_umi_extract":2,"a10_a11":[0,3],"a10_designfil":[0,3],"a10_s1":[0,3],"a10_sequenc":[0,3],"aaa":2,"aaaxxxccc":2,"aaayyyccc":2,"abov":[0,3],"abund":[0,2,3],"account":2,"across":2,"activ":[0,3],"ad":[0,2,3],"ad_bc":[0,3],"ad_object":[],"ad_qual":2,"add":2,"add_barcod":2,"add_multiple_barcod":2,"add_umi":2,"addit":2,"align_sort_and_deduplicate_umi":2,"allow":[0,3],"along":[],"also":[0,3],"analys":[],"analysi":[0,1,2,3],"analyz":[],"ani":[0,2,3],"appear":[0,3],"append":[0,3],"appli":[0,2,3],"applic":[0,3],"apply_whitelist":2,"argument":[0,2,3],"around":[0,3],"array":2,"assembl":[0,3],"atgc":2,"avail":[0,3],"avoid":[],"ax":2,"axe":2,"axi":2,"background":[0,3],"bar":[0,2,3],"barcod":2,"barcode_exist":[0,2,3],"barcode_group":2,"barcodemapp":2,"base":[0,2,3],"basenam":2,"bc":[0,3],"bc_length":2,"bc_name":2,"bc_object":[0,2,3],"befor":[0,2,3],"better":[],"block":[],"bool":2,"build":[0,2,3],"can":[0,3],"canon":2,"ccc":2,"cell":[0,3],"certain":[0,3],"cgcgcc":[0,3],"chart":2,"check":[0,2,3],"check_exist":2,"check_table_nam":2,"choos":[],"chunk_siz":2,"class":2,"close_connect":2,"code":[],"col":2,"collaps":[0,3],"collis":[0,3],"color":2,"column":[0,2,3],"column_pair":[0,2,3],"combin":2,"come":[0,1,3],"command":[],"complement":[0,2,3],"complex":1,"complexitycheck":2,"comput":2,"concaten":[0,2,3],"concatenate_fastq":2,"conda":[0,3],"confid":[0,3],"consid":[],"consist":[0,3],"constructor":[0,3],"contain":[0,2,3],"content":1,"control":[],"convert_txt_to_whitelist_mapping_df_from_path":2,"core":1,"correct":[0,2,3],"correspond":[0,3],"count":[0,2,3],"count_overlap":2,"count_overlap_one_barcode_group":2,"counts_per_umi":2,"creat":2,"create_design":2,"create_error_correct":2,"create_group":2,"create_initi":2,"create_map":2,"create_qu":2,"create_test_map":2,"create_threshold":2,"create_unique_target":2,"csv":[0,2,3],"ctcgag":[0,3],"current":[0,2,3],"czb_feb2024":[0,3],"dask":2,"data":[0,3],"databas":2,"datafram":2,"dataset":2,"db":[0,2,3],"db_path":[0,2,3],"decid":[0,3],"decis":[],"decor":2,"dedupl":2,"default":2,"default_map_ord":2,"defin":2,"describ":[0,3],"descriptor":2,"design":2,"design_fil":2,"design_file_path":[0,2,3],"desir":[0,3],"df":2,"dict":2,"direct":[0,3],"directori":2,"distinct":2,"dna":2,"document":[0,3],"domain":[],"downstream":[],"dpi":2,"draw":2,"dtype":2,"duckdb":2,"duplic":[0,3],"e":[],"ec_ad":[0,3],"ec_ad_bc":[0,3],"ec_rptr_bc":[0,3],"echas":[0,3],"either":[],"empti":[0,2,3],"enabl":[],"end":2,"ensur":[],"environ":[0,3],"error":[0,2,3],"error_correct":1,"everi":2,"exampl":[0,2,3],"except":2,"exist":[1,2],"expect":[0,3],"experi":1,"explicit":[0,3],"extract":2,"extract_barcod":2,"extract_umi":2,"fals":2,"fastest":2,"fastp":2,"fastp_summary_df":2,"fastq":[0,2,3],"fastq_path":2,"fc_mvslab":[0,3],"fig":2,"figsiz":2,"figur":[0,2,3],"file":[0,2,3],"filenam":2,"filter":[0,2,3],"final":[0,3],"finder":[0,1,3],"first":[0,2,3],"flag":2,"flank":[0,3],"flexibl":[0,3],"folder":2,"follow":[0,1,2,3],"format":[0,3],"fraction":[],"full":2,"func":2,"function":[1,2],"g":[],"gather":[0,3],"gattaca":2,"gcat":2,"gcn4":[0,3],"gcn4_final":[0,3],"generat":[0,1,2,3],"generate_barcode_fasta_and_index":2,"generate_fastq":2,"generate_fastq_for_whitelist":2,"get":[0,3],"get_map_df":2,"ggctagc":[0,3],"given":2,"global":[0,3],"go":[],"graph":[0,3],"grid":2,"group":2,"gz":[0,2,3],"gzip":2,"handl":2,"help":[],"high":[0,3],"histogram":[0,2,3],"histplot":2,"id":2,"ident":2,"ie":[],"import":[0,3],"includ":[0,3],"independ":2,"index":1,"infil":2,"info":2,"inform":[],"initi":2,"initial_map":[0,1,3],"initialmapp":[0,2,3],"inner":2,"input":2,"input_dir":2,"input_fastq_list":2,"insert_prefix":2,"inspect":[0,3],"instead":2,"int":2,"interact":[],"job":2,"just":[0,3],"keep":[0,2,3],"key":[0,2,3],"key_col":2,"keyword":2,"know":[0,3],"kwarg":2,"label":2,"largest":2,"largest_count":2,"layout":2,"least":[0,2,3],"length":[0,2,3],"like":[0,2,3],"limit":2,"line":2,"list":[1,2],"ll":[],"load":2,"load_and_shorten_fil":2,"locat":[0,3],"log":2,"long":[0,2,3],"loss":[1,2],"made":2,"major":[0,3],"make":[0,3],"manual_ec_threshold":2,"map":[1,2],"map_df":2,"map_nam":2,"map_ord":[0,2,3],"map_path":2,"map_refin":[0,1,3],"mapped_barcod":2,"mapper":2,"maprefin":[0,2,3],"match":[0,3],"matplotlib":2,"maximum":2,"mean":[0,3],"member":2,"merg":2,"merge_complex_with_step1_map":2,"merge_design":2,"merge_simple_with_step1_map":2,"method":2,"min_fraction_major_target":[0,2,3],"minut":[0,3],"miss":[],"mode":2,"modul":[],"multipl":[0,2,3],"must":[0,2,3],"n_col":2,"name":[0,2,3],"necessari":[],"need":[0,3],"new":[0,2,3],"next":[0,3],"nkx2":[],"none":[0,2,3],"note":1,"notebook":[0,3],"now":[],"null":2,"num_merg":2,"number":[0,2,3],"numer":2,"object":[0,2,3],"old":2,"onc":2,"one":[0,2,3],"onli":[0,2,3],"openproject":[0,3],"option":[0,2,3],"order":[],"organ":[0,3],"origin":2,"others":[],"otherwis":[],"outfil":2,"output":[0,2,3],"output_csv_path":2,"output_dir":2,"output_figures_path":[0,2,3],"output_path":2,"packag":1,"page":1,"pair":2,"palett":2,"panda":2,"panel":2,"paramet":2,"parquet":2,"parquet_path":2,"pass":[0,2,3],"path":[0,2,3],"pattern":2,"pd":2,"per":[0,2,3],"percentag":2,"perform":[0,2,3],"pipelin":2,"plain":2,"pleas":[],"plot":1,"plot_all_whitelist":2,"plot_all_whitelists_from_summari":2,"plot_error_correct":2,"plot_loss":[0,2,3],"plot_loss_help":2,"plot_reads_histogram":2,"point":[0,3],"post":[0,2,3],"post_rc":2,"pre":2,"preced":[0,2,3],"preceder_rc":2,"precomput":2,"prefix":2,"preprocess":1,"prev_tabl":2,"preview":2,"preview_map":2,"previous":2,"previous_t":2,"print":2,"process":[0,2,3],"produc":2,"progress":[0,2,3],"project":[0,3],"prompt":[0,3],"provid":[0,2,3],"put":[],"python":[],"qualiti":2,"quality_design":2,"rc":2,"rc_and_swap":2,"read":[0,2,3],"read_fastq":2,"reads_threshold":[0,2,3],"recalcul":2,"recommend":[],"record":2,"refer":[],"refin":[1,2],"refine_map_from_db":[0,2,3],"refined_map_suffix":2,"relev":[],"reliabl":[],"remov":[0,2,3],"replac":2,"replic":[0,3],"requir":[0,3],"rest_count":2,"restraint":[],"result":[0,2,3],"retain":[],"return":2,"revers":[0,2,3],"reverse_compl":[0,2,3],"reverse_complement_fastq":2,"reverse_complement_seri":2,"rocket_r":2,"row":[0,2,3],"rptr":[0,3],"rptr_bc":[0,3],"run":[1,2],"run_both_dedupl":2,"run_fastp":2,"run_simple_dedupl":2,"run_umi_tools_dedupl":2,"run_whitelist_on_concat_domain":2,"s":[0,2,3],"sanjana":[0,3],"save":[0,2,3],"save_dir":2,"save_loss_t":2,"save_map":2,"save_nam":2,"save_parquet":2,"save_path":2,"save_simple_dedupl":2,"savio":[0,3],"savio_job":2,"scale":2,"scatter":2,"scratch":[0,3],"script":[0,3],"script_path":2,"seaborn":2,"search":[0,1,3],"section":[0,3],"self":2,"separ":2,"seq":2,"seq_df":2,"seq_fil":[0,2,3],"sequenc":2,"seri":2,"set":[0,2,3],"set_cell_numb":2,"sever":[0,3],"sh":2,"shorten_seq_fil":2,"should_check_exist":2,"show":[0,2,3],"show_background":2,"show_tabl":2,"side":2,"simpl":2,"simplifi":2,"singl":2,"size":2,"slurm":2,"smaller":2,"sns":2,"somewher":[],"soon":1,"sourc":2,"special":[0,3],"specifi":[],"start":[0,2,3],"step":[1,2],"step1":[0,2,3],"step1_map_nam":2,"step1_mapp":[0,3],"step_nam":[0,2,3],"step_suffix":2,"str":2,"strict":[],"string":2,"structur":[],"submit":2,"submodul":1,"subsequ":2,"suffix":2,"sum":2,"summar":2,"summari":2,"summarize_canonical_subsequ":2,"summarize_whitelist":2,"summary_df":2,"synthet":2,"sys":[0,3],"tabl":2,"table_prefix":2,"table_prefix_with_descriptor":2,"take":[0,2,3],"target":2,"target_col":2,"temporari":2,"test":2,"test_n_read":2,"text":2,"text_offset":2,"tgtaatc":2,"threshold":2,"time":[0,3],"time_it":2,"togeth":[],"tool":[0,2,3],"total":[0,2,3],"tqdm":2,"track":2,"trebl":[0,3],"trebleseq_ismaybethenewcibernam":[0,3],"true":[0,2,3],"tupl":[0,2,3],"txt":2,"type":2,"umi":[0,2,3],"umi_dedupl":1,"umi_length":2,"umi_object":2,"umi_qu":2,"umi_tool":2,"umidedupl":2,"unifi":2,"uniqu":2,"unique_target":[0,2,3],"unique_umis_per_barcod":2,"updat":2,"use":[0,2,3],"usual":[0,3],"v2":[0,3],"valid":[],"valu":[],"view":[],"visual":1,"vs":2,"want":[0,3],"warn":[],"welcom":1,"whether":[0,2,3],"whitelist":2,"whitelist_path":2,"whose":2,"will":[0,2,3],"without":[0,3],"work":[0,2,3],"written":2,"x":[],"xxx":2,"yes":[],"yyy":2},"titles":["Step 1 Protocol","TREBL-scripts Documentation","scripts package","Step 1 Protocol"],"titleterms":{"api":1,"barcod":[0,3],"complex":2,"content":2,"creat":[0,3],"databas":[0,3],"decis":[],"defin":[0,3],"design":[0,3],"document":1,"domain":[0,3],"duckdb":[0,3],"error_correct":2,"exist":[0,3],"finder":2,"group":[0,3],"indic":1,"initi":[0,3],"initial_map":2,"input":[0,3],"loss":[0,3],"map":[0,3],"map_refin":2,"mapper":[0,3],"modul":[1,2],"note":[0,3],"order":[0,3],"overview":[0,1,3],"packag":2,"plot":2,"preprocess":2,"protocol":[0,1,3],"put":[],"qualiti":[0,3],"recommend":[0,3],"refer":1,"refin":[0,3],"run":[0,3],"script":[1,2],"sequenc":[0,3],"specifi":[0,3],"step":[0,3],"structur":[0,3],"submodul":2,"tabl":1,"target":[0,3],"threshold":[0,3],"togeth":[],"trebl":1,"umi_dedupl":2,"uniqu":[0,3],"visual":[0,3],"workflow":1}})